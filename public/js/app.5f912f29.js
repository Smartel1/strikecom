(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],d=0,m=[];d<o.length;d++)i=o[d],r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0035":function(t,e,n){"use strict";var a=n("34c0"),r=n.n(a);r.a},"023d":function(t,e){},"0733":function(t,e,n){"use strict";var a=n("9fdd"),r=n.n(a);r.a},"09c0":function(t,e,n){"use strict";var a=n("ca93"),r=n.n(a);r.a},"0d9f":function(t,e,n){"use strict";var a=n("f53c"),r=n.n(a);r.a},1385:function(t,e){},"142f":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var a,r,s=n("ade3");(function(t){t["all"]="all",t["ru"]="ru",t["en"]="en",t["es"]="es"})(r||(r={}));var i=(a={},Object(s["a"])(a,r.all,"Все языки"),Object(s["a"])(a,r.ru,"Русский"),Object(s["a"])(a,r.en,"Английский"),Object(s["a"])(a,r.es,"Испанский"),a)},"14f3":function(t,e){},"1c3d":function(t,e,n){},2200:function(t,e,n){"use strict";var a=n("b1ab"),r=n.n(a);r.a},"222c":function(t,e,n){},"2ae1":function(t,e,n){},"34c0":function(t,e,n){},"3cd6":function(t,e,n){},"3e88":function(t,e){},"3fc3":function(t,e,n){"use strict";var a=n("1385");n.o(a,"Locale")&&n.d(e,"Locale",function(){return a["Locale"]}),n.o(a,"localesMap")&&n.d(e,"localesMap",function(){return a["localesMap"]});var r=n("3e88");n.o(r,"Locale")&&n.d(e,"Locale",function(){return r["Locale"]}),n.o(r,"localesMap")&&n.d(e,"localesMap",function(){return r["localesMap"]});var s=n("583a");n.o(s,"Locale")&&n.d(e,"Locale",function(){return s["Locale"]}),n.o(s,"localesMap")&&n.d(e,"localesMap",function(){return s["localesMap"]});var i=n("142f");n.d(e,"Locale",function(){return i["a"]}),n.d(e,"localesMap",function(){return i["b"]});n("80ba"),n("14f3"),n("023d"),n("cd38")},"415d":function(t,e,n){},"423a":function(t,e,n){"use strict";var a=n("bba1"),r=n.n(a);r.a},"49d7":function(t,e,n){"use strict";var a=n("6354"),r=n.n(a);r.a},"4f44":function(t,e,n){},"556b":function(t,e,n){},"583a":function(t,e){},6354:function(t,e,n){},"76de":function(t,e,n){},7749:function(t,e,n){"use strict";var a=n("4f44"),r=n.n(a);r.a},"7de7":function(t,e,n){"use strict";var a=n("415d"),r=n.n(a);r.a},"7e3c":function(t,e,n){"use strict";var a=n("ab99"),r=n.n(a);r.a},"7faf":function(t,e,n){"use strict";var a=n("8fba"),r=n.n(a);r.a},"80ba":function(t,e){},"84a1":function(t,e,n){},"8b4d":function(t,e,n){"use strict";var a=n("d67e"),r=n.n(a);r.a},"8fba":function(t,e,n){},"90dc":function(t,e,n){"use strict";var a=n("c4f9"),r=n.n(a);r.a},9678:function(t,e,n){t.exports=n.p+"img/logo-main.f256217d.png"},"9fdd":function(t,e,n){},ab99:function(t,e,n){},ada0:function(t,e,n){"use strict";var a=n("84a1"),r=n.n(a);r.a},b1ab:function(t,e,n){},b3f7:function(t,e,n){},bba1:function(t,e,n){},bc6d:function(t,e,n){"use strict";var a=n("1c3d"),r=n.n(a);r.a},bdb9:function(t,e,n){"use strict";var a=n("556b"),r=n.n(a);r.a},c4f9:function(t,e,n){},ca93:function(t,e,n){},cae7:function(t,e,n){"use strict";var a=n("222c"),r=n.n(a);r.a},cd38:function(t,e,n){"use strict";var a;(function(t){t["moderator"]="MODERATOR",t["admin"]="ADMIN"})(a||(a={}))},cd49:function(t,e,n){"use strict";n.r(e);n("0fae");var a=n("9e2f"),r=n.n(a),s=(n("96cf"),n("1da1")),i=(n("cadf"),n("551c"),n("097d"),n("2b0e")),o=n("5299"),c=n.n(o),u=n("f13c"),l=n.n(u),d=n("31bd"),m=(n("e05f"),n("3cd6"),n("dccd")),p=n.n(m),f=n("e11e"),h=n.n(f),_=(n("6cc5"),n("15fd")),v=n("be94"),C=n("bc3a"),g=n.n(C),b=n("4328"),w=n.n(b),x="https://strikeapi.herokuapp.com/api/v1/",k=n("3fc3"),y=k["Locale"].ru,O=null;function T(t){y=t}function I(t){O=t}var S=g.a.create({baseURL:x,paramsSerializer:function(t){return w.a.stringify(t,{encode:!1})}});function E(){return j.apply(this,arguments)}function j(){return j=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",S.request({method:"GET",url:"reference"}).then(function(t){return t.data}));case 1:case"end":return t.stop()}},t,this)})),j.apply(this,arguments)}function D(){return $.apply(this,arguments)}function $(){return $=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",S.request({method:"GET",url:"reference-checksum"}).then(function(t){return t.data}));case 1:case"end":return t.stop()}},t,this)})),$.apply(this,arguments)}function R(){return M.apply(this,arguments)}function M(){return M=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",S.request({method:"GET",url:"user"}).then(function(t){return t.data}));case 1:case"end":return t.stop()}},t,this)})),M.apply(this,arguments)}function P(t){return L.apply(this,arguments)}function L(){return L=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},t.abrupt("return",S.request({method:"GET",url:"".concat(e),params:n}).then(function(t){return t.data}));case 2:case"end":return t.stop()}},t,this)})),L.apply(this,arguments)}function A(t){return N.apply(this,arguments)}function N(){return N=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a,r,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},a=n.id,r=Object(_["a"])(n,["id"]),t.abrupt("return",S.request({method:"GET",url:"".concat(e,"/").concat(a),params:r}).then(function(t){return t.data}));case 3:case"end":return t.stop()}},t,this)})),N.apply(this,arguments)}function B(t,e){return F.apply(this,arguments)}function F(){return F=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:{},t.abrupt("return",S.request({method:"POST",url:e,data:n,params:a}).then(function(t){return t.data}));case 2:case"end":return t.stop()}},t,this)})),F.apply(this,arguments)}function U(t){return H.apply(this,arguments)}function H(){return H=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},t.abrupt("return",S.request({method:"DELETE",url:e,params:n}).then(function(t){return t.data}));case 2:case"end":return t.stop()}},t,this)})),H.apply(this,arguments)}S.interceptors.request.use(function(t){return t.url="".concat(y,"/").concat(t.url),O&&(t.headers.common=Object(v["a"])({},t.headers.common,{Authorization:"Bearer ".concat(O)})),t});var z=n("d4ec"),V=n("bee2"),q=n("a305"),W=n("6773"),G=n("ce69"),Y=n("340b"),Z=n("9f3f"),Q=n.n(Z);function J(t){return Object(Y["parse"])(t)}function K(t,e){return Object(Y["format"])(t,e||"D MMMM YYYY",{locale:Q.a})}n("6b54");var X=n("cda5"),tt=n("b3d6"),et=n("7811"),nt=Object(X["templateExtend"])(X["TemplateName"].Metro,{colors:["#30343F","#235789","#06A77D","#FA9F42","#6C5A49"],branch:{lineWidth:6,label:{display:!1}},commit:{spacing:40,dot:{size:8,font:"normal 16pt Roboto"},message:{displayAuthor:!1,displayHash:!1,font:"normal 11pt Roboto"}}}),at={dot:{color:"#FFFFFF"},message:{color:"#D00000"}},rt={dot:{size:8}};function st(t){var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.setAttribute("width",t.width.toString()),e.setAttribute("x",t.translate.x.toString()),e.setAttribute("y",t.translate.y.toString());var n=document.createElement("p");return n.textContent=t.title,n.style.color=t.color,n.className="eventTreeMessage__text",n.onclick=t.onClick,e.appendChild(n),e}function it(t,e,n){var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("cx",t.style.dot.size.toString()),a.setAttribute("cy",t.style.dot.size.toString()),a.setAttribute("r",t.style.dot.size.toString()),a.setAttribute("id",e.id),a.setAttribute("fill",t.style.dot.color),Object(et["a"])(a,{content:"".concat(K(e.date)," - ").concat(e.title),placement:n.tooltipPlacement,interactive:!0});var r=t.dotText?Object(tt["b"])({content:t.dotText,font:t.style.dot.font,anchor:"middle",fill:t.style.message.color,translate:{x:t.style.dot.size,y:t.style.dot.size}}):null;return Object(tt["a"])({onClick:t.onClick,children:[a,r]})}function ot(t,e){window.localStorage.setItem(t,e)}function ct(t){return window.localStorage.getItem(t)}function ut(t){return"".concat(t," | ЗабастКом")}var lt=function(){function t(){Object(z["a"])(this,t),this.catalogsCheckSum=ct("catalogsCheckSum"),this.catalogs=JSON.parse(ct("catalogs"))}return Object(V["a"])(t,[{key:"initialize",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.catalogs&&e===this.catalogsCheckSum){t.next=7;break}return t.next=3,E();case 3:n=t.sent,this.catalogs=Object(q["a"])(n,function(t,e,n){return t[n]=Object(W["a"])(e,function(t){return t.id}),t},{}),ot("catalogsCheckSum",e),ot("catalogs",JSON.stringify(this.catalogs));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getCatalog",value:function(t){return this.catalogs?Object(G["a"])(this.catalogs[t],function(t){return t}):null}},{key:"getCatalogValue",value:function(t,e){return this.catalogs?this.catalogs[t][e]:null}}]),t}(),dt=new lt,mt=n("59ca"),pt=(n("ea7b"),"AUTHENTICATE_USER"),ft="FETCH_USER_INFO",ht="SET_USER",_t=function(){function t(){Object(z["a"])(this,t),this.app=mt["initializeApp"]({apiKey:"AIzaSyBqMWYu8ke0r0ONrI3SKR2C2h2Q4N261vc",authDomain:"strikecom-7ad08.firebaseapp.com",databaseURL:"https://strikecom-7ad08.firebaseio.com",projectId:"strikecom-7ad08",storageBucket:"strikecom-7ad08.appspot.com",messagingSenderId:"438907362423",appId:"1:438907362423:web:748c474db86a8bca"})}return Object(V["a"])(t,[{key:"initAuthStateObserver",value:function(t){var e=this;return new Promise(function(n){e.app.auth().onAuthStateChanged(function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return e.t0=I,e.next=4,a.getIdToken();case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=8,t.dispatch(ft);case 8:e.next=12;break;case 10:t.commit(ht,null),I(null);case 12:n();case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())})}},{key:"signInWithEmailAndPassword",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.app.auth().signInWithEmailAndPassword(e,n);case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"signInWithGoogle",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new mt["auth"].GoogleAuthProvider,t.next=3,this.app.auth().signInWithPopup(e);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"signInWithTwitter",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new mt["auth"].TwitterAuthProvider,t.next=3,this.app.auth().signInWithPopup(e);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"signOut",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.app.auth().signOut();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),vt=new _t,Ct=n("9429");Object(G["a"])(k["localesMap"],function(t,e){return{code:e,label:t}}),function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.locale,a=Object(_["a"])(e,["locale"]),T(n.code),t.next=4,B("news",a);case 4:case"end":return t.stop()}},t,this)}))}();var gt,bt,wt,xt,kt,yt,Ot,Tt,It=n("ade3"),St=n("2f62"),Et=(n("7f7f"),function t(e){var n=e.id,a=e.name,r=e.email,s=e.roles,i=e.image_url,o=e.favourite_events,c=e.favourite_news;Object(z["a"])(this,t),this.id=n,this.name=a,this.email=r,this.roles=s,this.avatarUrl=i,this.favouriteEventsIds=o,this.favouriteNewsIds=c}),jt=function t(e){var n=e.id,a=e.user,r=e.content,s=e.created_at,i=e.photos,o=e.claims;Object(z["a"])(this,t),this.id=n,this.user=new Et(a),this.content=r,this.createDate=J(1e3*s),this.photosUrls=i,this.claims=Object(G["a"])(o,function(t){return{type:dt.getCatalogValue("claimTypes",t.claim_type_id),count:t.claims_count}})},Dt=function t(e){var n=e.id,a=e.title,r=e.date_from,s=e.date_to,i=e.parent_event_id,o=e.latitude,c=e.longitude,u=e.company_name,l=e.conflict_reason_id,d=e.conflict_result_id,m=e.industry_id,p=e.region_id;Object(z["a"])(this,t),this.id=n,this.title=a,this.dateStart=J(1e3*r),this.dateEnd=s?J(1e3*s):null,this.longitude=c,this.latitude=o,this.companyName=u,this.parentEventId=i,this.conflictReason=l?dt.getCatalogValue("conflictReasons",l):null,this.conflictResult=d?dt.getCatalogValue("conflictResults",d):null,this.industry=m?dt.getCatalogValue("industries",m):null,this.region=p?dt.getCatalogValue("regions",p):null},$t=function t(e){var n=e.id,a=e.title,r=e.conflict_id,s=e.conflict,i=e.date,o=e.author,c=e.content,u=e.event_status_id,l=e.event_type_id,d=e.comments_count,m=e.photos,p=e.videos,f=e.source_link,h=e.tags,_=e.views,v=e.relatives;Object(z["a"])(this,t),this.id=n,this.title=a,this.conflictId=r,s&&(this.conflict=new Dt(s)),this.date=J(1e3*i),this.author=o,this.content=c,this.eventStatus=u?dt.getCatalogValue("eventStatuses",u):null,this.eventType=l?dt.getCatalogValue("eventTypes",l):null,this.commentsCount=d,this.photosUrls=m,this.videos=p,this.sourceLink=f,this.tags=h,this.viewsCount=_,v&&(this.relativeConflicts=Object(G["a"])(v,function(t){return new Rt(t)}))},Rt=function t(e){var n=e.id,a=e.parent_conflict_id,r=e.parent_event_id,s=e.events;Object(z["a"])(this,t),this.id=n,this.parentConflictId=a,this.parentEventId=r,this.events=Object(G["a"])(s,function(t){return new $t(t)})},Mt=function t(e){var n=e.id,a=e.title,r=e.date,s=e.content,i=e.author,o=e.comments_count,c=e.photos,u=e.videos,l=e.source_link,d=e.tags,m=e.views;Object(z["a"])(this,t),this.id=n,this.title=a,this.date=J(1e3*r),this.content=s,this.author=i,this.commentsCount=o,this.photosUrls=c,this.videos=u,this.sourceLink=l,this.tags=d,this.viewsCount=m},Pt="IS_USER_AUTHENTICATED",Lt={state:{user:null},getters:Object(It["a"])({},Pt,function(t){return!!t.user}),mutations:Object(It["a"])({},ht,function(t,e){t.user=e}),actions:(gt={},Object(It["a"])(gt,pt,function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit,e.dispatch,t.prev=1,t.t0=n.type,t.next="email"===t.t0?5:"google"===t.t0?8:"twitter"===t.t0?11:14;break;case 5:return t.next=7,vt.signInWithEmailAndPassword(n.email,n.password);case 7:return t.abrupt("break",15);case 8:return t.next=10,vt.signInWithGoogle();case 10:return t.abrupt("break",15);case 11:return t.next=13,vt.signInWithTwitter();case 13:return t.abrupt("break",15);case 14:return t.abrupt("break",15);case 15:t.next=20;break;case 17:throw t.prev=17,t.t1=t["catch"](1),t.t1;case 20:case"end":return t.stop()}},t,this,[[1,17]])}));return function(e,n){return t.apply(this,arguments)}}()),Object(It["a"])(gt,ft,function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,R();case 4:a=t.sent,n(ht,new Et(a)),t.next=11;break;case 8:throw t.prev=8,t.t0=t["catch"](1),t.t0;case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()),gt)},At=n("1b1b"),Nt="FINISH_FETCHING",Bt="START_FETCHING",Ft="SET_LAST_SELECTED_ITEM_ID",Ut="SET_LOCALE",Ht="GET_CONFLICTS_MARKERS",zt="GET_SELECTED_CONFLICT",Vt="SET_FETCHED_CONFLICTS_DATA",qt="SET_SELECTED_CONFLICT_ID",Wt="FETCH_CONFLICTS",Gt="RESET_STATE",Yt="SET_FETCHED_EVENTS_DATA",Zt="SET_EVENTS_LAST_RESPONSE_META",Qt={state:{ids:[],entities:{},lastResponseMeta:null,selectedItemId:null},getters:(bt={},Object(It["a"])(bt,zt,function(t){return t.entities[t.selectedItemId]||null}),Object(It["a"])(bt,Ht,function(t){return Object(G["a"])(t.entities,function(t){return{id:t.id,latitude:t.latitude,longitude:t.longitude}})}),bt),mutations:(wt={},Object(It["a"])(wt,Vt,function(t,e){t.ids=Object(At["a"])(t.ids,Object(G["a"])(e,function(t){return t.id})),t.entities=Object(v["a"])({},t.entities,Object(W["a"])(e,function(t){return t.id}))}),Object(It["a"])(wt,qt,function(t,e){t.selectedItemId=e}),wt),actions:Object(It["a"])({},Wt,function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n,a){var r,s,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,e.state,e.dispatch,t.prev=1,r(Bt),a&&r(Gt),t.next=6,P("conflict",n);case 6:s=t.sent,i=s.data,o=Object(G["a"])(i,function(t){return new Dt(t)}),r(Vt,o),t.next=15;break;case 12:throw t.prev=12,t.t0=t["catch"](1),t.t0;case 15:return t.prev=15,r(Nt),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[1,12,15,18]])}));return function(e,n,a){return t.apply(this,arguments)}}())},Jt="FETCH_EVENTS",Kt={state:{isInitialLoadComplete:!1,ids:[],entities:{},lastResponseMeta:null},mutations:(xt={},Object(It["a"])(xt,Gt,function(t){t.ids=[],t.entities={}}),Object(It["a"])(xt,Yt,function(t,e){t.ids=Object(At["a"])(t.ids,Object(G["a"])(e,function(t){return t.id})),t.entities=Object(v["a"])({},t.entities,Object(W["a"])(e,function(t){return t.id})),t.isInitialLoadComplete||(t.isInitialLoadComplete=!0)}),Object(It["a"])(xt,Zt,function(t,e){t.lastResponseMeta=e}),xt),actions:Object(It["a"])({},Jt,function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n,a){var r,s,i,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,e.state,e.dispatch,t.prev=1,r(Bt),a&&r(Gt),t.next=6,P("event",n);case 6:s=t.sent,i=s.data,o=s.meta,c=Object(G["a"])(i,function(t){return new $t(t)}),r(Yt,c),r(Zt,o),t.next=17;break;case 14:throw t.prev=14,t.t0=t["catch"](1),t.t0;case 17:return t.prev=17,r(Nt),t.finish(17);case 20:case"end":return t.stop()}},t,this,[[1,14,17,20]])}));return function(e,n,a){return t.apply(this,arguments)}}())},Xt="FETCH_COMMENTS",te="FETCH_ITEM_DATA",ee="POPULATE_ITEM",ne="SET_COMMENTS",ae="SET_ITEM_DATA",re={event:$t,news:Mt},se={state:{comments:[],data:null},mutations:(kt={},Object(It["a"])(kt,ne,function(t,e){t.comments=e}),Object(It["a"])(kt,ae,function(t,e){t.data=e}),kt),actions:(yt={},Object(It["a"])(yt,ee,function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a,r,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,r=e.dispatch,e.state,s=n.moduleName,i=n.id,a(Bt),t.next=5,r(te,{moduleName:s,id:i});case 5:return t.next=7,r(Xt,{moduleName:s,id:i});case 7:a(Nt);case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(It["a"])(yt,Xt,function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a,r,s,i,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,r=n.moduleName,s=n.id,t.prev=2,t.next=5,P("".concat(r,"/").concat(s,"/comment"));case 5:i=t.sent,o=i.data,c=Object(G["a"])(o,function(t){return new jt(t)}),a(ne,c),t.next=14;break;case 11:throw t.prev=11,t.t0=t["catch"](2),t.t0;case 14:case"end":return t.stop()}},t,this,[[2,11]])}));return function(e,n){return t.apply(this,arguments)}}()),Object(It["a"])(yt,te,function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a,r,s,i,o,c,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,e.dispatch,r=n.moduleName,s=n.id,i={id:s},"event"===r&&(i.withRelatives=1),t.prev=4,t.next=7,A(r,i);case 7:o=t.sent,c=o.data,u=new re[r](c),a(ae,u),t.next=16;break;case 13:throw t.prev=13,t.t0=t["catch"](4),t.t0;case 16:case"end":return t.stop()}},t,this,[[4,13]])}));return function(e,n){return t.apply(this,arguments)}}()),yt)},ie="FETCH_NEWS",oe="RESET_STATE",ce="SET_FETCHED_NEWS_DATA",ue="SET_NEWS_LAST_RESPONSE_META",le={state:{ids:[],entities:{},lastResponseMeta:null},mutations:(Ot={},Object(It["a"])(Ot,oe,function(t){t.ids=[],t.entities={}}),Object(It["a"])(Ot,ce,function(t,e){t.ids=Object(At["a"])(t.ids,Object(G["a"])(e,function(t){return t.id})),t.entities=Object(v["a"])({},t.entities,Object(W["a"])(e,function(t){return t.id}))}),Object(It["a"])(Ot,ue,function(t,e){t.lastResponseMeta=e}),Ot),actions:Object(It["a"])({},ie,function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n,a){var r,s,i,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,e.state,e.dispatch,t.prev=1,r(Bt),a&&r(oe),t.next=6,P("news",n);case 6:s=t.sent,i=s.data,o=s.meta,c=Object(G["a"])(i,function(t){return new Mt(t)}),r(ce,c),r(ue,o),t.next=17;break;case 14:throw t.prev=14,t.t0=t["catch"](1),t.t0;case 17:return t.prev=17,r(Nt),t.finish(17);case 20:case"end":return t.stop()}},t,this,[[1,14,17,20]])}));return function(e,n,a){return t.apply(this,arguments)}}())};i["default"].use(St["a"]);var de=new St["a"].Store({modules:{auth:Lt,conflicts:Qt,events:Kt,itemDetails:se,news:le},state:{locale:k["Locale"].ru,lastSelectedItemIdFromEntityList:null,fetchMeta:{isLoading:!1,error:null}},mutations:(Tt={},Object(It["a"])(Tt,Bt,function(t){t.fetchMeta={isLoading:!0}}),Object(It["a"])(Tt,Nt,function(t){t.fetchMeta={isLoading:!1}}),Object(It["a"])(Tt,Ut,function(t,e){T(e),t.locale=e}),Object(It["a"])(Tt,Ft,function(t,e){t.lastSelectedItemIdFromEntityList=e}),Tt)}),me=de,pe=n("8c4f"),fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contactsSection"},[n("VueHeadful",{attrs:{title:t.routeTitle}}),n("div",{staticClass:"contactsSection-cnt"},[n("h1",{staticClass:"contactsSection__title",domProps:{textContent:t._s(t.title)}}),t._l(t.content,function(e,a){return["paragraph"===e.type?n("div",{key:a,staticClass:"contactsSection__paragraph"},[e.preTextIcon?n("i",{staticClass:"contactsSectionParagraph__preIcon",class:e.preTextIcon}):t._e(),n("p",{staticClass:"contactsSectionParagraph__text",domProps:{textContent:t._s(e.text)}})]):"quote"===e.type?n("blockquote",{key:a,staticClass:"contactsSection__quote"},[n("i",{staticClass:"fas fa-quote-right contactsSectionQuote__icon"}),n("div",{staticClass:"contactsSectionQuote-cnt"},[n("p",{staticClass:"contactsSectionQuote__text",domProps:{textContent:t._s(e.text)}}),n("cite",{staticClass:"contactsSectionQuote__cite",domProps:{textContent:t._s(e.cite)}})])]):t._e()]}),n("h2",{staticClass:"contactsSection__subTitle",domProps:{textContent:t._s("Официальные сообщества в соцсетях")}}),n("div",{staticClass:"contactsSection__social"},t._l(t.contacts,function(e){return n("a",{key:e.link,staticClass:"contactsSectionSocial__item",attrs:{href:e.link,target:"_blank"},domProps:{textContent:t._s(e.text)}})})),n("div",{staticClass:"contactsSection__mobileApps"},t._l(t.mobileApps,function(e){return n("a",{key:e.type,staticClass:"contactsSectionMobileApps__item",attrs:{href:e.link,target:"_blank"}},[n("i",{class:e.icon}),n("p",{domProps:{textContent:t._s(e.text)}})])})),n("h2",{staticClass:"contactsSection__subTitle",domProps:{textContent:t._s("Поддержать проект")}}),n("div",{staticClass:"contactsSection__donates"},[t._l(t.donates,function(e){return["link"===e.type?n("a",{key:e.title,staticClass:"contactsSectionDonates__item --link",attrs:{href:e.link,target:"_blank"},domProps:{textContent:t._s(e.title)}}):"text"===e.type?n("p",{key:e.title,staticClass:"contactsSectionDonates__item",domProps:{textContent:t._s(e.title+": "+e.text)}}):t._e()]})],2)],2)],1)},he=[],_e=n("ec02"),ve=n.n(_e),Ce=i["default"].extend({name:"Contacts",components:{VueHeadful:ve.a},data:function(){return{title:"ЗабастКом - организация класса",content:[{type:"paragraph",text:"ЗабастКом - это общественный инициативный некоммерческий проект по агрегации новостей о забастовках и трудовых конфликтах в России."},{type:"paragraph",text:"Цель проекта: наиболее полное и оперативное информирование максимально широкого круга лиц о реальном положении рабочего класса России."},{type:"quote",text:"Признается право на индивидуальные и коллективные трудовые споры с использованием установленных федеральным законом способов их разрешения, включая право на забастовку.",cite:"Конституция РФ, статья 37"},{type:"paragraph",text:"ЗабастКом нацелен на поддержку рабочего движения и прорыв информационной блокады федеральных СМИ. Будет полезен активным гражданам и общественным деятелям для оперативного реагирования на события."},{type:"paragraph",text:"ЗабастКом покажет примеры успешных и неуспешных трудовых конфликтов (стачки, забастовки, голодовки, митинги, столкновения, задержки ЗП, трудовые споры, судебные процессы и др.), позволит перенять лучшие практики разрешения конфликтов и оперативно обмениваться опытом, поспособствует объединению сознательных работников, даст материал для ведения агитпропа, воодушевит на борьбу за права и интересы рабочего класса."},{type:"quote",text:"Стачки потому и внушают всегда такой ужас капиталистам, что они начинают колебать их господство.",cite:'В.И. Ленин. ПСС том 4 "О стачках"'},{type:"paragraph",preTextIcon:"fas fa-exclamation-triangle",text:"Большая часть публикуемых постов ссылается на материалы российских проправительственных СМИ, возможно искажение фактов."}],contacts:[{link:"https://vk.com/zabastcom",text:"Вконтакте"},{link:"https://twitter.com/zabastcom",text:"Twitter"},{link:"https://t-do.ru/zabastcom",text:"Telegram"},{link:"https://instagram.com/zabastcom",text:"Instagram"}],mobileApps:[{type:"android",icon:"fab fa-android",text:"Приложение в Google Play",link:"https://play.google.com/store/apps/details?id=org.nrstudio.strikecom"}],donates:[{type:"link",title:"Donation Alerts",link:"https://www.donationalerts.com/r/zabastcom"},{type:"text",title:"Номер карты QIWI",text:"4890494535557508"},{type:"text",title:"QIWI",text:"+79530945032"}]}},computed:{routeTitle:function(){return ut("О проекте")}}}),ge=Ce,be=(n("49d7"),n("2877")),we=Object(be["a"])(ge,fe,he,!1,null,"6341c9c3",null),xe=we.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"eventsSection",attrs:{id:"scroll-container"}},[n("VueHeadful",{attrs:{title:t.routeTitle}}),n("TheCurrentSection",{attrs:{"section-data":t.eventsState,"section-view":t.sectionView,"on-end-reached":t.loadMoreEvents},on:{"card-click":t.handleCardClick}})],1)},ye=[],Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"currentSection section"},[t.fetchMeta.isLoading&&!t.isPaginationProcessing?n("div",{staticClass:"section__spinner"}):[0!==t.sectionData.ids.length?["list"===t.$props.sectionView.type?n("div",{staticClass:"section__gridContainer"},[t._l(t.sectionData.ids,function(e){return n("BaseItemCard",{key:e,staticClass:"section__gridItem",attrs:{id:"item-"+e,"item-data":t.sectionData.entities[e]},nativeOn:{click:function(n){t.onCardClick(e)}}})}),n("InfiniteLoading",{attrs:{spinner:"spiral"},on:{infinite:t.handleEndReached}},[n("div",{staticClass:"section__noMoreData",attrs:{slot:"no-more"},domProps:{textContent:t._s("Больше данных нет")},slot:"no-more"})])],2):t._e(),"custom"===t.$props.sectionView.type?t._t("default"):t._e()]:n("div",{staticClass:"section__noData",domProps:{textContent:t._s("Нет данных")}})]],2)},Te=[],Ie=n("32e8"),Se=n("e166"),Ee=n.n(Se),je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ElCard",{staticClass:"eventCard",attrs:{shadow:"hover"}},[n("div",{staticClass:"eventCard__header",attrs:{slot:"header"},slot:"header"},[n("h2",{staticClass:"eventCardHeader__title",domProps:{textContent:t._s(t.$props.itemData.title)}}),n("div",{staticClass:"eventCardHeader__metaContainer metaContainer hidden-sm-and-down"},[t.$props.itemData.date?n("div",{staticClass:"metaContainer__row"},[n("span",{staticClass:"eventCardHeader__date",domProps:{textContent:t._s(t.formatDate(t.$props.itemData.date))}}),n("i",{staticClass:"eventCardHeader__icon far fa-calendar-alt"})]):t._e(),t.$props.itemData.conflict&&t.$props.itemData.conflict.region?n("div",{staticClass:"metaContainer__row"},[n("span",{staticClass:"eventCardHeader__region",domProps:{textContent:t._s(t.$props.itemData.conflict.region.name)}}),n("i",{staticClass:"eventCardHeader__icon fas fa-map-marker-alt"})]):t._e()])]),n("div",{staticClass:"eventCard__body"},[n("p",{staticClass:"eventCardBody__content",domProps:{textContent:t._s(t.$props.itemData.content)}})]),n("div",{staticClass:"eventCard__footer"},[t.$props.itemData.eventType?n("ElTag",{staticClass:"eventCardFooterTag --type",attrs:{size:"small"},domProps:{textContent:t._s(t.$props.itemData.eventType.name)}}):t._e(),t.$props.itemData.eventStatus?n("ElTag",{staticClass:"eventCardFooterTag --status",attrs:{size:"small"},domProps:{textContent:t._s(t.$props.itemData.eventStatus.name)}}):t._e(),t.$props.itemData.conflict?[t.$props.itemData.conflict.conflictReason?n("ElTag",{staticClass:"eventCardFooterTag --reason",attrs:{size:"small"},domProps:{textContent:t._s(t.$props.itemData.conflict.conflictReason.name)}}):t._e(),t.$props.itemData.conflict.conflictResult?n("ElTag",{staticClass:"eventCardFooterTag --result",attrs:{size:"small"},domProps:{textContent:t._s(t.$props.itemData.conflict.conflictResult.name)}}):t._e()]:t._e()],2)])},De=[],$e=i["default"].extend({name:"BaseItemCard",props:{itemData:{type:Object,required:!0}},methods:{formatDate:K}}),Re=$e,Me=(n("db6e"),Object(be["a"])(Re,je,De,!1,null,"87a28678",null)),Pe=Me.exports,Le={conflicts:Wt,events:Jt,news:ie},Ae=i["default"].extend({name:"TheCurrentSection",components:{BaseItemCard:Pe,InfiniteLoading:Ee.a},props:{sectionData:{type:Object,required:!0},sectionView:{type:Object,required:!0},onEndReached:{type:Function,required:!1,default:function(){}}},data:function(){return{isPaginationProcessing:!1}},mounted:function(){var t=this;this.$nextTick(function(){t.lastSelectedItemId&&"custom"!==t.$props.sectionView.type&&t.$scrollTo("#item-".concat(t.lastSelectedItemId),200,{container:"#scroll-container",offset:-20})})},computed:Object(v["a"])({},Object(St["c"])({fetchMeta:function(t){return t.fetchMeta},lastSelectedItemId:function(t){return t.lastSelectedItemIdFromEntityList}})),watch:{"$store.state.route":{handler:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(Object(Ie["a"])(e,n)){t.next=6;break}if(a=e.meta.moduleName,r=Le[a],this.$store.state[a].lastResponseMeta){t.next=6;break}return t.next=6,this.$store.dispatch(r);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),immediate:!0,deep:!0}},methods:{onCardClick:function(t){this.$emit("card-click",t),this.$store.commit(Ft,t)},handleEndReached:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isPaginationProcessing=!0,t.next=3,this.$props.onEndReached(e);case 3:this.isPaginationProcessing=!1;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Ne=Ae,Be=(n("7749"),Object(be["a"])(Ne,Oe,Te,!1,null,"7bb86483",null)),Fe=Be.exports,Ue="Events",He="ItemDetails",ze="News",Ve="Map",qe="Contacts",We=i["default"].extend({name:"Events",components:{VueHeadful:ve.a,TheCurrentSection:Fe},data:function(){return{sectionView:{type:"list"}}},computed:Object(v["a"])({},Object(St["c"])({eventsState:function(t){return t.events}}),{routeTitle:function(){return ut("События")}}),methods:{loadMoreEvents:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this.eventsState.lastResponseMeta,t.next=3,this.$store.dispatch(Jt,{page:n.current_page+1});case 3:e.loaded(),n.current_page===n.last_page&&e.complete();case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),handleCardClick:function(t){this.$router.push({name:He,params:{id:String(t),moduleName:"event"}})}}}),Ge=We,Ye=(n("7de7"),Object(be["a"])(Ge,ke,ye,!1,null,"36284a1c",null)),Ze=Ye.exports,Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"newsSection",attrs:{id:"scroll-container"}},[n("VueHeadful",{attrs:{title:t.routeTitle}}),n("TheCurrentSection",{ref:"currentSection",attrs:{"section-data":t.newsState,"section-view":t.sectionView,"on-end-reached":t.loadMoreNews},on:{"filters-changed":t.handleFiltersChanging,"card-click":t.handleCardClick}})],1)},Je=[],Ke=i["default"].extend({name:"News",components:{VueHeadful:ve.a,TheCurrentSection:Fe},data:function(){return{sectionView:{type:"list",filterFormView:{fields:[{name:"date_from",componentName:"ElDatePicker",controlProps:{type:"date",format:"dd/MM/yyyy",valueFormat:"timestamp",placeholder:"Дата начала",size:"small"}},{name:"date_to",componentName:"ElDatePicker",controlProps:{type:"date",format:"dd/MM/yyyy",valueFormat:"timestamp",placeholder:"Дата окончания",size:"small"}}]}}}},computed:Object(v["a"])({},Object(St["c"])({newsState:function(t){return t.news}}),{routeTitle:function(){return ut("Новости")}}),methods:{loadMoreNews:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this.newsState.lastResponseMeta,t.next=3,this.$store.dispatch(ie,{page:n.current_page+1});case 3:e.loaded(),n.current_page===n.last_page&&e.complete();case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),handleCardClick:function(t){this.$router.push({name:He,params:{id:String(t),moduleName:"news"}})},handleFiltersChanging:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch(ie,{resetState:!0,filters:e});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Xe=Ke,tn=(n("bc6d"),Object(be["a"])(Xe,Qe,Je,!1,null,"0bcaee23",null)),en=tn.exports,nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"itemDetails"},[n("VueHeadful",{attrs:{title:t.currentRouteTitle}}),t.isLoading?n("div",{staticClass:"itemDetails__spinner"}):t.itemDetails.data?[n("div",{staticClass:"itemDetails__commonData"},[n("BaseItemInfo",{staticClass:"itemDetailsCommonData__info",attrs:{"item-data":t.itemDetails.data}}),n("BaseComments",{staticClass:"itemDetailsCommonData__comments",attrs:{comments:t.itemDetails.comments}})],1),t.itemDetails.data.conflict?n("div",{staticClass:"itemDetails__conflictData"},[n("BaseConflictInfo",{staticClass:"itemDetailsConflictData__info",attrs:{"conflict-data":t.itemDetails.data.conflict}}),n("BaseEventsTree",{staticClass:"itemDetailsConflictData__eventsTree",attrs:{data:t.itemDetails.data.relativeConflicts}})],1):t._e()]:t._e()],2)},an=[],rn=(n("a481"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"baseConflictInfo"},[n("span",{staticClass:"conflictInfo__title",domProps:{textContent:t._s(t.$props.conflictData.title||"Данные о конфликте")}}),t._l(t.visibleConflictInfoFields,function(e){return n("div",{key:e.title,staticClass:"conflictInfo__row"},[n("span",{staticClass:"conflictInfoRow__label",domProps:{textContent:t._s(e.label+":")}}),n("span",{staticClass:"conflictInfoRow__value",domProps:{textContent:t._s(e.getFormattedData())}})])}),n("ElButton",{staticClass:"conflictInfo__button",attrs:{type:"text"},domProps:{textContent:t._s("Посмотреть на карте")},on:{click:t.onActionButtonClick}})],2)}),sn=[],on=i["default"].extend({name:"BaseConflictInfo",props:{conflictData:{type:Object,required:!0}},data:function(){var t=this;return{conflictInfoFields:[{label:"Дата окончания",name:"dateEnd",getFormattedData:function(){return K(t.$props.conflictData.dateEnd,"DD MMMM YYYY")}},{label:"Предприятие",name:"companyName",getFormattedData:function(){return t.$props.conflictData.companyName}},{label:"Отрасль производства",name:"industry",getFormattedData:function(){return t.$props.conflictData.industry.name}},{label:"Регион",name:"region",getFormattedData:function(){return t.$props.conflictData.region.name}},{label:"Причина",name:"conflictReason",getFormattedData:function(){return t.$props.conflictData.conflictReason.name}},{label:"Результат",name:"conflictResult",getFormattedData:function(){return t.$props.conflictData.conflictResult.name}}]}},computed:{visibleConflictInfoFields:function(){var t=this;return this.$data.conflictInfoFields.filter(function(e){return t.$props.conflictData[e.name]})}},methods:{onActionButtonClick:function(){this.$store.commit(qt,this.$props.conflictData.id),this.$router.push({name:Ve})}}}),cn=on,un=(n("bdb9"),Object(be["a"])(cn,rn,sn,!1,null,"5400d947",null)),ln=un.exports,dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"baseItemInfo"},[n("div",{staticClass:"itemInfo__header headerInfo"},[t.$props.itemData.conflict?n("div",{staticClass:"headerInfo__tags"},[t.$props.itemData.eventType?n("ElTag",{staticClass:"headerInfoTag --type",attrs:{size:"small"},domProps:{textContent:t._s(t.$props.itemData.eventType.name)}}):t._e(),t.$props.itemData.eventStatus?n("ElTag",{staticClass:"headerInfoTag --status",attrs:{size:"small"},domProps:{textContent:t._s(t.$props.itemData.eventStatus.name)}}):t._e(),t.$props.itemData.conflict?[t.$props.itemData.conflict.conflictReason?n("ElTag",{staticClass:"headerInfoTag --reason",attrs:{size:"small"},domProps:{textContent:t._s(t.$props.itemData.conflict.conflictReason.name)}}):t._e(),t.$props.itemData.conflict.conflictResult?n("ElTag",{staticClass:"headerInfoTag --result",attrs:{size:"small"},domProps:{textContent:t._s(t.$props.itemData.conflict.conflictResult.name)}}):t._e()]:t._e()],2):t._e(),n("div",{staticClass:"headerInfo__meta headerMeta",class:{"--hasConflict":t.$props.itemData.conflict}},[n("div",{staticClass:"headerMeta__container",domProps:{textContent:t._s(t.formattedDate)}}),n("div",{staticClass:"headerMeta__container"},[n("i",{staticClass:"headerMeta__icon far fa-eye"}),n("span",{staticClass:"headerMeta__value",domProps:{textContent:t._s(t.$props.itemData.viewsCount)}})]),n("div",{staticClass:"headerMeta__container"},[n("i",{staticClass:"headerMeta__icon far fa-comment"}),n("span",{staticClass:"headerMeta__value",domProps:{textContent:t._s(t.$props.itemData.commentsCount)}})])])]),n("h2",{staticClass:"itemInfo__heading",domProps:{textContent:t._s(t.$props.itemData.title)}}),n("p",{staticClass:"itemInfo__content",domProps:{textContent:t._s(t.$props.itemData.content)}}),t.$props.itemData.photosUrls&&0!==t.$props.itemData.photosUrls.length?n("ElCarousel",{staticClass:"itemInfo__carousel carousel"},t._l(t.$props.itemData.photosUrls,function(e){return n("ElCarouselItem",{key:e},[n("div",{staticClass:"carousel__item"},[n("img",{staticClass:"carouselItem__image",attrs:{alt:t.$props.itemData.title,src:e}})])])})):t._e(),n("div",{staticClass:"itemInfo__source"},[n("i",{staticClass:"itemInfoSource__icon fas fa-external-link-alt"}),n("a",{staticClass:"itemInfoSource__link",attrs:{href:t.$props.itemData.sourceLink,target:"_blank"},domProps:{textContent:t._s("Источник")}})]),t.$props.itemData.tags&&0!==t.$props.itemData.tags.length?n("div",{staticClass:"itemInfo__tags"},t._l(t.$props.itemData.tags,function(e){return n("a",{key:e,staticClass:"itemInfoTags__tag",domProps:{textContent:t._s("#"+e)}})})):t._e(),n("div",{staticClass:"itemInfo__share"},[n("h3",{staticClass:"itemInfoShare__heading",domProps:{textContent:t._s("Поделиться")}}),n("social-sharing",{staticClass:"itemInfoShare__social",attrs:{title:t.$props.itemData.title,hashtags:t.$props.itemData.tags.join(","),"twitter-user":"zabastcom","network-tag":"div"},inlineTemplate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("network",{staticClass:"itemInfoShare__socialButton --vk",attrs:{network:"vk"}},[n("i",{staticClass:"fab fa-vk"})]),n("network",{staticClass:"itemInfoShare__socialButton --facebook",attrs:{network:"facebook"}},[n("i",{staticClass:"fab fa-facebook-f"})]),n("network",{staticClass:"itemInfoShare__socialButton --telegram",attrs:{network:"telegram"}},[n("i",{staticClass:"fab fa-telegram-plane"})]),n("network",{staticClass:"itemInfoShare__socialButton --twitter",attrs:{network:"twitter"}},[n("i",{staticClass:"fab fa-twitter"})])],1)},staticRenderFns:[]}})],1)],1)},mn=[],pn=i["default"].extend({name:"BaseItemInfo",props:{itemData:{type:Object,required:!0}},computed:{formattedDate:function(){return K(this.$props.itemData.date)}}}),fn=pn,hn=(n("90dc"),n("8b4d"),Object(be["a"])(fn,dn,mn,!1,null,"4d610e8e",null)),_n=hn.exports,vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"baseComments"},[n("div",{staticClass:"baseComments__header"},[n("h3",{staticClass:"baseCommentsHeader__title",domProps:{textContent:t._s("Комментарии")}}),n("span",{staticClass:"baseCommentsHeader__count",domProps:{textContent:t._s(t.$props.comments.length)}})]),n("BaseCommentsList",{staticClass:"baseComments__list",attrs:{comments:t.$props.comments,"current-user":t.currentUser},on:{"delete-comment":t.handleCommentDeleting,"claim-comment":t.handleCommentClaiming}}),t.isUserAuthenticated?n("div",{staticClass:"baseComments__input_cnt"},[n("ElInput",{staticClass:"baseComments__input",attrs:{autosize:{maxRows:6,minRows:1},size:"medium",type:"textarea",placeholder:"Оставьте комментарий..."},model:{value:t.commentValue,callback:function(e){t.commentValue=e},expression:"commentValue"}}),n("ElButton",{staticClass:"baseComments__sendButton",attrs:{loading:t.localLoadingState,disabled:t.localLoadingState,size:"medium"},on:{click:t.handleCommentSending}},[t._v("\n            Отправить\n        ")])],1):n("div",{staticClass:"baseComments__suggestion"},[n("span",{staticClass:"baseCommentsSuggestion__message",domProps:{textContent:t._s(t.suggestionMessage)}})])],1)},Cn=[],gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"commentsList"},t._l(t.$props.comments,function(e){return n("div",{key:e.id,staticClass:"commentsList__item"},[t.potentiallyComplainedCommentIds.includes(e.id)?n("div",{staticClass:"commentsListItem__claims"},[t.actuallyComplainedCommentIds.includes(e.id)?n("div",{staticClass:"commentsListItemClaims__message"},[n("span",{staticClass:"commentsListItemClaimsMessage__text",domProps:{textContent:t._s("Жалоба будет рассмотрена модераторами в ближайшее время")}})]):t._l(t.claimTypes,function(a){return n("ElRadio",{key:a.id,staticClass:"commentsListItemClaims__item",attrs:{label:a.id},on:{change:function(n){t.handleClaiming(e.id,a)}},model:{value:t.claimTypeId,callback:function(e){t.claimTypeId=e},expression:"claimTypeId"}},[t._v("\n                    "+t._s(a.name)+"\n                ")])})],2):[n("BaseUserAvatar",{staticClass:"commentsListItem__avatar",attrs:{user:e.user,size:"small"}}),n("div",{staticClass:"commentsListItem__content"},[n("div",{staticClass:"commentsListItemContent__header"},[n("span",{staticClass:"commentsListItemContentHeader__username",domProps:{textContent:t._s(e.user.name)}}),n("time",{staticClass:"commentsListItemContentHeader__date",domProps:{textContent:t._s(t.getFormattedDate(e.createDate))}})]),n("p",{staticClass:"commentsListItemContent__main",domProps:{textContent:t._s(e.content)}}),n("div",{staticClass:"commentsListItemContent__footer"},[t.getRemoveActionVisibility(e.user.id)?n("ElLink",{staticClass:"commentsListItemContentFooter__action",attrs:{underline:!1},on:{click:function(n){t.$emit("delete-comment",e.id)}}},[t._v("\n                        Удалить\n                    ")]):t._e(),t.getClaimActionVisibility(e.user.id)?n("ElLink",{staticClass:"commentsListItemContentFooter__action",attrs:{underline:!1},on:{click:function(n){t.potentiallyComplainedCommentIds.push(e.id)}}},[t._v("\n                        Пожаловаться\n                    ")]):t._e()],1)])]],2)}))},bn=[],wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"baseUserAvatar",class:{"--medium":"medium"===t.$props.size,"--small":"small"===t.$props.size}},[t.$props.user.avatarUrl?n("img",{staticClass:"baseUserAvatar__img",attrs:{src:t.$props.user.avatarUrl,alt:"Аватар пользователя"}}):n("span",{staticClass:"baseUserAvatar__text",domProps:{textContent:t._s(t.avatarLetter)}})])},xn=[],kn=i["default"].extend({name:"BaseUserAvatar",props:{user:{type:Object,required:!0},size:{type:String,required:!1,default:"medium"}},computed:{avatarLetter:function(){return this.userName.charAt(0).toUpperCase()},userName:function(){return this.$props.user.name||"Неизвестный товарищ"},userRoles:function(){return 0===this.$props.user.roles.length?"Гость":this.$props.user.roles.join(" ,")}}}),yn=kn,On=(n("0035"),Object(be["a"])(yn,wn,xn,!1,null,"742211ec",null)),Tn=On.exports,In=i["default"].extend({name:"BaseCommentsList",components:{BaseUserAvatar:Tn},props:{comments:{type:Array,required:!0},currentUser:{required:!0}},data:function(){return{potentiallyComplainedCommentIds:[],actuallyComplainedCommentIds:[],claimTypeId:null}},computed:{claimTypes:function(){return dt.getCatalog("claimTypes")}},methods:{getFormattedDate:function(t){return K(t,"DD.MM.YYYY HH:mm")},getRemoveActionVisibility:function(t){return this.$props.currentUser&&t===this.$props.currentUser.id},getClaimActionVisibility:function(t){return this.$props.currentUser&&t!==this.$props.currentUser.id},handleClaiming:function(t,e){var n=this,a='Вы действительно хотите пожаловаться на "'.concat(e.name,'"?');this.$confirm(a,"Подтверждение",{distinguishCancelAndClose:!0,confirmButtonText:"Пожаловаться",cancelButtonText:"Отмена"}).then(function(){n.$emit("claim-comment",t,e.id),n.$data.actuallyComplainedCommentIds.push(t),n.$data.claimTypeId=null}).catch(function(){n.$data.claimTypeId=null})}}}),Sn=In,En=(n("2200"),Object(be["a"])(Sn,gn,bn,!1,null,"03ae4ebe",null)),jn=En.exports,Dn=i["default"].extend({name:"BaseComments",components:{BaseCommentsList:jn},props:{comments:{type:Array,required:!0}},data:function(){return{commentValue:"",localLoadingState:!1}},computed:Object(v["a"])({},Object(St["b"])({isUserAuthenticated:Pt}),Object(St["c"])({currentUser:function(t){return t.auth.user}}),{suggestionMessage:function(){return"Авторизуйтесь, чтобы оставлять комментарии"}}),methods:{handleCommentSending:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$store.state.route.params,n=e.id,a=e.moduleName,this.$data.localLoadingState=!0,t.next=4,B("".concat(a,"/").concat(n,"/comment"),{content:this.$data.commentValue});case 4:return t.next=6,this.$store.dispatch(Xt,{id:n,moduleName:a});case 6:this.$data.commentValue="",this.$data.localLoadingState=!1;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleCommentDeleting:function(t){var e=this;this.$confirm("Вы действительно хотите удалить комментарий?",{confirmButtonText:"Удалить",cancelButtonText:"Отмена",callback:function(){var n=Object(s["a"])(regeneratorRuntime.mark(function n(a){var r,s,i;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if("confirm"!==a){n.next=6;break}return r=e.$store.state.route.params,s=r.id,i=r.moduleName,n.next=4,U("".concat(i,"/").concat(s,"/comment/").concat(t));case 4:return n.next=6,e.$store.dispatch(Xt,{id:s,moduleName:i});case 6:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}()})},handleCommentClaiming:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a,r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this.$store.state.route.params,r=a.id,s=a.moduleName,t.next=3,B("".concat(s,"/").concat(r,"/comment/").concat(e,"/claim"),{claim_type_id:n});case 3:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}}),$n=Dn,Rn=(n("cf7d"),Object(be["a"])($n,vn,Cn,!1,null,"07b58af8",null)),Mn=Rn.exports,Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"eventsTreeContainer",staticClass:"relatedEvents__tree"})},Ln=[],An=(n("c5f6"),n("3997")),Nn=i["default"].extend({name:"BaseEventsTree",props:{data:{type:Array,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"}},data:function(){return{eventTree:null}},mounted:function(){this.$data.eventTree||(this.$data.eventTree=Object(X["createGitgraph"])(this.$refs.eventsTreeContainer,{template:nt}),this.populateEventTree())},computed:{currentEventId:function(){return Number(this.$store.state.route.params.id)||null}},watch:{currentEventId:{handler:function(t){t&&(this.$data.eventTree.clear(),this.populateEventTree())}}},methods:{populateEventTree:function(){var t=this;Object(An["a"])(this.$props.data,function(e){t.populateEventTreeBranch(e)})},populateEventTreeBranch:function(t){var e,n=this;e=t.parentEventId?this.$data.eventTree.branch({name:t.id.toString(),from:t.parentEventId.toString()}):this.$data.eventTree.branch(t.id.toString()),Object(An["a"])(t.events,function(t){var a=t.id===n.currentEventId,r={subject:t.title,hash:t.id.toString(),dotText:a?"👷":void 0,style:a?at:rt,renderMessage:function(e){return n.renderMessage(e,t)},renderDot:function(e){return it(e,t,{tooltipPlacement:n.$props.tooltipPlacement})},onClick:function(){n.handleNodeClick(t.id)}};e.commit(r)})},renderMessage:function(t,e){var n=this,a=400-50*t.branches.length;return st({translate:{x:-20,y:0},width:a<0?300:a,color:t.style.dot.message,onClick:function(){n.handleNodeClick(e.id)},title:e.title})},handleNodeClick:function(t){t!==this.currentEventId&&this.$router.push({name:He,params:{id:String(t),moduleName:"event"}})}}}),Bn=Nn,Fn=(n("d565"),Object(be["a"])(Bn,Pn,Ln,!1,null,"f9b8f074",null)),Un=Fn.exports,Hn=i["default"].extend({name:"ItemDetails",components:{BaseComments:Mn,BaseConflictInfo:ln,BaseEventsTree:Un,BaseItemInfo:_n,VueHeadful:ve.a},computed:Object(v["a"])({},Object(St["c"])({isLoading:function(t){return t.fetchMeta.isLoading},itemDetails:function(t){return t.itemDetails}}),{currentRouteTitle:function(){return ut(this.itemDetails.data?this.itemDetails.data.title:"Загрузка...")}}),beforeRouteEnter:function(t,e,n){n(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$store.state.route.params,a=n.id,r=n.moduleName,t.next=4,e.$store.dispatch(ee,{moduleName:r,id:a});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.$router.replace({name:ze});case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(e){return t.apply(this,arguments)}}())},beforeRouteUpdate:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n,a){var r,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.params,s=r.id,i=r.moduleName,t.prev=1,t.next=4,this.$store.dispatch(ee,{moduleName:i,id:s});case 4:a(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),a(!1);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));return function(e,n,a){return t.apply(this,arguments)}}(),beforeRouteLeave:function(t,e,n){t.meta.moduleName!==e.params.moduleName&&this.$store.commit(Ft,null),n()}}),zn=Hn,Vn=(n("0d9f"),Object(be["a"])(zn,nn,an,!1,null,"8100fca4",null)),qn=Vn.exports,Wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mapSection"},[n("VueHeadful",{attrs:{title:t.routeTitle}}),n("TheCurrentSection",{attrs:{"section-data":t.conflictsState,"section-view":t.sectionView}},[n("TheMap",{staticClass:"mapSection__map",attrs:{markers:t.conflictsMarkers,"selected-conflict":t.selectedConflict},on:{"selected-conflict-changed":t.handleMarkerClick}}),n("ElCol",{staticClass:"mapSection__sideBarContainer",attrs:{md:6}},[n("Transition",{attrs:{name:"sideBar-slide"}},[t.selectedConflict?n("TheMapSideBar",{staticClass:"mapSection__sideBar",attrs:{conflict:t.selectedConflict},on:{close:t.handleCloseSideBar}}):t._e()],1)],1)],1)],1)},Gn=[],Yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"theMap"},[n("LMap",{ref:"map",staticClass:"mapContainer",attrs:{zoom:t.mapZoom,"min-zoom":t.minZoom,center:t.mapCenter,options:t.options},on:{"update:zoom":function(e){t.mapZoom=e},"update:center":function(e){t.mapCenter=e}}},[n("LControlZoom",{attrs:{position:t.zoomControlPosition}}),n("LTileLayer",{attrs:{url:t.tileUrl}}),n("VMarkerCluster",{attrs:{options:t.clusterOptions}},t._l(t.$props.markers,function(e){return n("LMarker",{key:e.id,attrs:{icon:t.icon,"lat-lng":t.transformMarkerCoordinates(e),options:{linkedConflictId:e.id}},on:{click:function(n){t.onMarkerClick(e)}}})}))],1)],1)},Zn=[],Qn=n("ca9f"),Jn=n.n(Qn),Kn=n("c8b6"),Xn=n("2699"),ta=n("4e2b"),ea=n("a40a"),na=i["default"].extend({name:"TheMap",components:{LControlZoom:Kn["a"],LMap:Xn["a"],LMarker:ta["a"],LTileLayer:ea["a"],VMarkerCluster:Jn.a},props:{markers:{type:Array,required:!0},selectedConflict:{type:Object,required:!1,default:null}},data:function(){return{icon:h.a.icon({iconUrl:n("ffd2"),iconSize:[24,24],iconAnchor:[12,24]}),mapCenter:[55.753739,37.619895],mapZoom:5,minZoom:3,options:{attributionControl:!1,zoomControl:!1},zoomControlPosition:"topright",tileUrl:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",clusterOptions:{showCoverageOnHover:!1,iconCreateFunction:function(t){return h.a.divIcon({html:'<div class="theMap__clusterIcon">'.concat(t.getChildCount(),"</div>")})}}}},methods:{transformMarkerCoordinates:function(t){return[t.latitude,t.longitude]},onMarkerClick:function(t){this.mapCenter=[t.latitude,t.longitude],this.$emit("selected-conflict-changed",t.id)}},mounted:function(){this.$watch("$props.selectedConflict",function(t,e){if(t){if(e&&t.id===e.id)return;this.mapZoom<14&&this.$refs.map.setZoom(14),this.$refs.map.setCenter([t.latitude,t.longitude])}},{deep:!0,immediate:!0})}}),aa=na,ra=(n("f90f"),n("cae7"),Object(be["a"])(aa,Yn,Zn,!1,null,"c4e3c2be",null)),sa=ra.exports,ia=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"theSideBar"},[n("div",{staticClass:"sideBar__header"},[n("h3",{staticClass:"sideBarHeader__title",domProps:{textContent:t._s("История конфликта")}}),n("ElButton",{staticClass:"sideBarHeader__button",attrs:{icon:"el-icon-close"},on:{click:t.onCloseIconClick}})],1),t.localLoadingState?n("div",{staticClass:"sideBar__spinner"}):n("BaseEventsTree",{staticClass:"sideBar__eventsTree",attrs:{data:t.conflictHistory,"tooltip-placement":"right"}})],1)},oa=[],ca=i["default"].extend({name:"TheMapSideBar",components:{BaseEventsTree:Un},props:{conflict:{type:Object,required:!0}},data:function(){return{localLoadingState:!1,conflictHistory:[]}},watch:{"$props.conflict.id":{immediate:!0,handler:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a,r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e===n){t.next=9;break}return this.localLoadingState=!0,t.next=4,P("event",{filters:{conflict_ids:[e]}});case 4:a=t.sent,r=a.data,s=Object(G["a"])(r,function(t){return new $t(t)}).reverse(),this.conflictHistory=[{id:e,parentConflictId:null,parentEventId:null,events:s}],this.localLoadingState=!1;case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}},methods:{onCloseIconClick:function(){this.$emit("close")}}}),ua=ca,la=(n("7e3c"),Object(be["a"])(ua,ia,oa,!1,null,"0fba7294",null)),da=la.exports,ma=i["default"].extend({name:"Map",components:{TheCurrentSection:Fe,TheMap:sa,TheMapSideBar:da,VueHeadful:ve.a},data:function(){return{sectionView:{type:"custom"}}},computed:Object(v["a"])({},Object(St["b"])({selectedConflict:zt,conflictsMarkers:Ht}),Object(St["c"])({conflictsState:function(t){return t.conflicts}}),{routeTitle:function(){return ut("Карта конфликтов")}}),methods:{handleMarkerClick:function(t){this.$store.commit(qt,t)},handleCloseSideBar:function(){this.$store.commit(qt,null)}}}),pa=ma,fa=(n("423a"),Object(be["a"])(pa,Wn,Gn,!1,null,null,null)),ha=fa.exports,_a={base:"",routes:[{path:"/",redirect:"/event"},{path:"/event",name:Ue,component:Ze,meta:{moduleName:"events"}},{path:"/news",name:ze,component:en,meta:{moduleName:"news"}},{path:"/map",name:Ve,component:ha,alias:"/conflicts",meta:{moduleName:"conflicts"}},{path:"/about",name:qe,component:xe},{path:"/:moduleName/:id(\\d+)",name:He,component:qn},{path:"*",redirect:"/"}]};i["default"].use(pe["a"]);var va=new pe["a"](_a),Ca=va,ga=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"app__background"}),n("ElContainer",{staticClass:"app",attrs:{direction:"vertical"}},[n("ElHeader",{staticClass:"app__header"},[n("TheHeader")],1),n("ElMain",{staticClass:"app__content"},[n("router-view")],1)],1)],1)},ba=[],wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ElRow",{staticClass:"theHeader",attrs:{type:"flex"}},[a("ElCol",{attrs:{xs:4,md:6}},[a("div",{staticClass:"header__logo-cnt",on:{click:t.handleLogoClick}},[a("img",{staticClass:"headerLogo__img",attrs:{src:n("9678")}}),a("div",{staticClass:"headerLogo__text hidden-sm-and-down",domProps:{textContent:t._s(t.headerLogoText)}})])]),a("ElCol",{attrs:{xs:20,md:18}},[a("ElMenu",{staticClass:"header__nav",attrs:{"default-active":t.activeRouteName,"active-text-color":"#F2DC5D",mode:"horizontal"}},[t._l(t.navigationItems,function(e){return a("ElMenuItem",{key:e.title,staticClass:"headerNav__item",attrs:{index:e.name},on:{click:function(n){t.handleRouteItemClick(e)}}},[a("i",{staticClass:"headerNavItem__icon hidden-sm-and-down",class:e.icon}),a("span",{staticClass:"headerNavItem__text",domProps:{textContent:t._s(e.title)}})])}),a("TheHeaderAuth",{staticClass:"header__authSection"})],2)],1)],1)},xa=[],ka=(n("7514"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"authSection"},[t.currentUser?n("TheHeaderAuthUserInfo",{attrs:{"current-user":t.currentUser}}):[n("ElButton",{staticClass:"authSection__button",attrs:{type:"secondary"},domProps:{textContent:t._s("Войти")},on:{click:t.handleLoginButtonClick}}),n("ElDialog",{staticClass:"authSection__dialog",attrs:{visible:t.isDialogShown,"before-close":t.handleCloseDialog,"close-on-click-modal":!t.isAuthProcessing,"close-on-press-escape":!t.isAuthProcessing,"append-to-body":!0,"show-close":!1,width:"420px"},on:{"update:visible":function(e){t.isDialogShown=e}}},[n("h2",{staticClass:"authSectionDialog__title",attrs:{slot:"title"},domProps:{textContent:t._s(t.dialogParams.title)},slot:"title"}),n("ElForm",{staticClass:"authSectionDialog__form"},[n("span",{staticClass:"authSectionDialogForm__servicesText",domProps:{textContent:t._s("Войдите с помощью учетной записи в других сервисах")}}),n("div",{staticClass:"authSectionDialogForm__services-cnt"},[n("ElButton",{staticClass:"authSectionDialogFormServices__button",attrs:{circle:""},on:{click:function(e){t.onFormButtonClick("google")}}},[n("i",{staticClass:"fab fa-google"})]),n("ElButton",{staticClass:"authSectionDialogFormServices__button",attrs:{circle:""},on:{click:function(e){t.onFormButtonClick("twitter")}}},[n("i",{staticClass:"fab fa-twitter"})])],1),n("ElDivider",[t._v("\n                    или\n                ")]),n("ElInput",{staticClass:"authSectionDialogForm__input",attrs:{placeholder:"Почта"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("ElInput",{staticClass:"authSectionDialogForm__input",attrs:{type:"password",placeholder:"Пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("ElButton",{staticClass:"authSectionDialogForm__button",attrs:{loading:t.isAuthProcessing,disabled:t.isMainButtonDisabled,type:"primary"},on:{click:function(e){t.onFormButtonClick("email")}}},[t._v("\n                    "+t._s(t.dialogParams.mainButtonTitle)+"\n                ")])],1)],1)]],2)}),ya=[],Oa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ElDropdown",{staticClass:"authUserInfo",attrs:{trigger:"click",size:"medium"},on:{command:t.handleDropdownItemClick}},[n("div",{staticClass:"authUserInfo-cnt"},[n("BaseUserAvatar",{attrs:{user:t.$props.currentUser}}),n("div",{staticClass:"authUserInfo__text-w"},[n("span",{staticClass:"authUserInfo__name",domProps:{textContent:t._s(t.userName)}}),n("span",{staticClass:"authUserInfo__roles",domProps:{textContent:t._s(t.userRoles)}})]),n("i",{staticClass:"authUserInfo__chevronIcon el-icon-arrow-down"})],1),n("ElDropdownMenu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("ElDropdownItem",{attrs:{command:"profile",icon:"el-icon-user"}},[t._v("\n            Профиль\n        ")]),n("ElDropdownItem",{attrs:{command:"signOut",icon:"el-icon-switch-button"}},[t._v("\n            Выйти\n        ")])],1)],1)},Ta=[],Ia=i["default"].extend({name:"TheHeaderAuthUserInfo",components:{BaseUserAvatar:Tn},props:{currentUser:{type:Object,required:!0}},computed:{avatarLetter:function(){return this.userName.charAt(0).toUpperCase()},userName:function(){return this.$props.currentUser.name||"Неизвестный товарищ"},userRoles:function(){return 0===this.$props.currentUser.roles.length?"Гость":this.$props.currentUser.roles.join(" ,")}},methods:{handleDropdownItemClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e,t.next="signOut"===t.t0?3:6;break;case 3:return t.next=5,vt.signOut();case 5:return t.abrupt("break",7);case 6:return t.abrupt("break",7);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Sa=Ia,Ea=(n("09c0"),Object(be["a"])(Sa,Oa,Ta,!1,null,"3c1d2ed8",null)),ja=Ea.exports,Da=i["default"].extend({name:"TheHeaderAuth",components:{TheHeaderAuthUserInfo:ja},data:function(){return{isDialogShown:!1,isAuthProcessing:!1,dialogType:"AUTH",email:"",password:""}},computed:Object(v["a"])({},Object(St["c"])({currentUser:function(t){return t.auth.user}}),{isMainButtonDisabled:function(){return""===this.email||""===this.password},dialogParams:function(){return"AUTH"===this.dialogType?{title:"Вход",mainButtonTitle:"Войти"}:{title:"Регистрация",mainButtonTitle:"Зарегистрироваться"}}}),methods:{handleLoginButtonClick:function(){this.isDialogShown=!0},handleCloseDialog:function(t){t()},onFormButtonClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isAuthProcessing=!0,t.prev=1,t.next=4,this.$store.dispatch(pt,{type:e,email:this.email,password:this.password});case 4:this.isDialogShown=!1,t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](1),t.t0;case 10:return t.prev=10,this.isAuthProcessing=!1,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[1,7,10,13]])}));return function(e){return t.apply(this,arguments)}}()}}),$a=Da,Ra=(n("0733"),Object(be["a"])($a,ka,ya,!1,null,"76bb1e24",null)),Ma=Ra.exports,Pa=i["default"].extend({name:"TheHeader",components:{TheHeaderAuth:Ma},data:function(){return{navigationItems:[{icon:"fas fa-calendar-check",name:Ue,moduleName:"event",title:"КОНФЛИКТЫ"},{icon:"fas fa-newspaper",name:ze,moduleName:"news",title:"НОВОСТИ"},{icon:"fas fa-map-marked-alt",name:Ve,moduleName:"map",title:"КАРТА"},{icon:"fas fa-address-book",name:qe,moduleName:"contacts",title:"О ПРОЕКТЕ"}],headerLogoText:"ЗабастКом"}},computed:{activeRouteName:function(){var t=this.$store.state.route,e=this.navigationItems.find(function(e){return t.name===e.name||t.params.moduleName===e.moduleName});return e?e.name:ze}},methods:{handleRouteItemClick:function(t){this.$router.push({name:t.name})},handleLogoClick:function(){this.$router.push({path:"/"})}}}),La=Pa,Aa=(n("f001"),Object(be["a"])(La,wa,xa,!1,null,"13a8ec2e",null)),Na=Aa.exports,Ba=i["default"].extend({name:"App",components:{TheHeader:Na}}),Fa=Ba,Ua=(n("7faf"),n("ada0"),Object(be["a"])(Fa,ga,ba,!1,null,"01606d21",null)),Ha=Ua.exports;Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i["default"].config.productionTip=!1,Object(d["sync"])(me,Ca),i["default"].use(c.a),i["default"].use(l.a),i["default"].use(r.a,{locale:p.a}),delete h.a.Icon.Default.prototype._getIconUrl,t.next=8,D();case 8:return e=t.sent,n=e.checkSum,t.next=12,dt.initialize(n);case 12:return t.next=14,vt.initAuthStateObserver(me);case 14:a=new i["default"]({router:Ca,store:me,render:function(t){return t(Ha)}}),a.$mount("#app");case 16:case"end":return t.stop()}},t,this)}))()},cf7d:function(t,e,n){"use strict";var a=n("76de"),r=n.n(a);r.a},d565:function(t,e,n){"use strict";var a=n("2ae1"),r=n.n(a);r.a},d67e:function(t,e,n){},db6e:function(t,e,n){"use strict";var a=n("b3f7"),r=n.n(a);r.a},f001:function(t,e,n){"use strict";var a=n("fb37"),r=n.n(a);r.a},f53c:function(t,e,n){},f90f:function(t,e,n){"use strict";var a=n("fa77"),r=n.n(a);r.a},fa77:function(t,e,n){},fb37:function(t,e,n){},ffd2:function(t,e,n){t.exports=n.p+"img/map-marker.0de10b70.png"}});